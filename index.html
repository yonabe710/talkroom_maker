<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LINE風チャットレコーダー</title>
    <meta name="description" content="LINE風チャットの録画ツール" />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap"
      rel="stylesheet"
      preconnect
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <main class="chat-display" id="chatDisplay" role="main" aria-label="チャット表示エリア">
        <section class="chat-left" aria-label="チャットコンテンツ">
          <div id="chatBlankSpace" class="chat-blank-space" aria-hidden="true"></div>
          <header id="chatTitleText" class="chat-title-text" role="banner"></header>
          <div class="chat-messages" id="chatMessages" role="log" aria-live="polite" aria-label="チャットメッセージ"></div>
        </section>
        <div class="tiktok-blank" aria-hidden="true"></div>
      </main>

      <aside class="input-area" role="complementary" aria-label="設定とコントロール">
        <div class="hint-message">
          <span class="icon" aria-hidden="true">📋</span>
          <span class="hint">画像はコピー＆ペーストでも追加できます</span>
        </div>
        <div id="conversationEditor" aria-label="会話エディター"></div>
        <div class="input-group">
          <textarea
            id="conversationInput"
            class="hidden-input"
            placeholder="sender,type,content,date,timestamp 例:\n男,text,こんにちは,2024/05/31,10:30\n電話,phone,46:29,2024/05/31,22:59"
            aria-label="会話データ入力"
          ></textarea>
        </div>

        <fieldset class="csv-controls">
          <legend>CSV操作</legend>
          <div class="button-group">
            <button id="csvExportButton" type="button" class="csv-btn" aria-describedby="export-help">
              <span aria-hidden="true">📤</span> CSVエクスポート
            </button>
            <input
              type="file"
              id="csvImportInput"
              accept=".csv,text/csv"
              class="file-input"
              aria-label="CSVファイルを選択"
            />
            <button id="csvImportButton" type="button" class="csv-btn" aria-describedby="import-help">
              <span aria-hidden="true">📥</span> CSVインポート
            </button>
          </div>
        </fieldset>

        <fieldset class="settings-area">
          <legend>設定</legend>
          
          <div class="settings-group">
            <label for="femaleAvatarUpload">女性アイコン画像:</label>
            <input
              type="file"
              id="femaleAvatarUpload"
              accept="image/*"
              class="file-input"
              aria-describedby="avatar-help"
            />
            <button id="femaleAvatarButton" type="button" class="csv-btn">
              画像を選択
            </button>
            <small id="avatar-help" class="help-text">女性側メッセージのアイコン画像を選択</small>
          </div>
          
          <div class="settings-group">
            <label for="scrollSpeed">スクロール速度:</label>
            <input
              type="range"
              id="scrollSpeed"
              min="0.5"
              max="5"
              value="0.9"
              step="0.1"
              aria-describedby="scrollSpeed-value"
            />
            <span id="scrollSpeedValue" class="range-value" aria-live="polite">0.9</span>
          </div>
          
          <div class="settings-group">
            <label for="chatTitleInput">タイトル:</label>
            <textarea
              id="chatTitleInput"
              placeholder="タイトルを入力"
              rows="2"
              class="title-input"
              aria-describedby="title-help"
            >タイトル</textarea>
          </div>
          
          <div class="settings-group">
            <label for="titleBlankPercent">タイトル前の空白高さ（％）:</label>
            <input
              type="range"
              id="titleBlankPercent"
              min="0"
              max="100"
              value="35"
              aria-describedby="titleBlankPercent-value"
            />
            <span id="titleBlankPercentValue" class="range-value" aria-live="polite">35</span>%
          </div>
          
          <div class="settings-group">
            <label for="titleHorizontalPosition">タイトル左右位置:</label>
            <input
              type="range"
              id="titleHorizontalPosition"
              min="-100"
              max="100"
              value="-12"
              step="1"
              aria-describedby="titleHorizontalPosition-value"
            />
            <span id="titleHorizontalPositionValue" class="range-value" aria-live="polite">-12px</span>
          </div>
          
          <div class="settings-group">
            <label for="titleFontSize">タイトル文字サイズ:</label>
            <input
              type="range"
              id="titleFontSize"
              min="1"
              max="5"
              value="2.8"
              step="0.1"
              aria-describedby="titleFontSize-value"
            />
            <span id="titleFontSizeValue" class="range-value" aria-live="polite">2.8em</span>
          </div>
          
          <div class="recording-controls">
            <button id="startRecording" class="button primary-button" type="button">
              録画開始
            </button>
            <button id="stopRecording" class="button secondary-button" type="button" disabled>
              録画停止
            </button>
          </div>
        </fieldset>
      </div>
    </div>
    <script src="script.js" defer></script>
  </body>
</html>
